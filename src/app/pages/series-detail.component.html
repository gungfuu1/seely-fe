<div *ngIf="series; else loading" class="detail-container">
  <h2>{{ series.name }}</h2>
  <img [src]="series.imageUrl" alt="{{ series.name }}" class="cover" />
  <p><strong>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:</strong> {{ series.description }}</p>
  <p><strong>‡∏õ‡∏µ:</strong> {{ series.year }}</p>
  <p><strong>‡πÇ‡∏î‡∏¢:</strong> {{ series.user?.username }}</p>
  <p><strong>‡πÄ‡∏£‡∏ï‡∏ï‡∏¥‡πâ‡∏á:</strong> {{ series.rating?.name }} | {{ series.rating?.description }}</p>
  <p><strong>Owner Score:</strong> {{ series.ownerScore?.name }}</p>
  <p><strong>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢:</strong> {{ series.avg_rating || 0 }} / 5</p>
  <p><strong>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÇ‡∏´‡∏ß‡∏ï:</strong> {{ series.rating_count || 0 }}</p>

  <hr />

  <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç / ‡∏•‡∏ö -->
  <div *ngIf="canEditOrDelete()" class="edit-actions">
    <button (click)="updateSeries()">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
    <button (click)="deleteSeries()">üóëÔ∏è ‡∏•‡∏ö</button>
  </div>

  <!-- ‡∏™‡πà‡∏ß‡∏ô‡πÇ‡∏´‡∏ß‡∏ï -->
  <div *ngIf="!canEditOrDelete()">
    <div *ngIf="!user">
      ‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    </div>

    <div *ngIf="user && !hasVoted">
      <label>‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (1‚Äì5):</label>
      <select [(ngModel)]="score" name="score">
        <option *ngFor="let n of [1, 2, 3, 4, 5]" [value]="n">{{ n }}</option>
      </select>
      <button (click)="submitVote()" [disabled]="isSubmitting">‡πÇ‡∏´‡∏ß‡∏ï</button>
    </div>
  </div>
</div>

<ng-template #loading>
  <p>Loading...</p>
</ng-template>
